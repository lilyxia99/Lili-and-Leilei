<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="Starter HTML template" />
    <title>My Project</title>

    <!-- External stylesheet -->
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&family=Jersey+10&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
    <p><span id="first-time">This is my first time <br>这是我第一次</span>...</p>
    <div id="content" aria-live="polite" role="status"></div>
    <div id="options" class="options">
        <button type="button" class="link-button" data-option="这是我第一次和女生约会" data-content="第二次约会，看完电影之后，我和她回到我的住所。我们在厨房接吻，当晚没有人在房子里，我们上到二楼到我的房间里。我把她推倒在床上，看到她有点错愕又激动的表情，我感觉反而也有点惊慌失措。<br> &quot; I...I actually don&apos;t know how to do this&quot;<br>&quot; Is this your first time? &quot;<br>
            &quot;Yeah...I'm sorry. I just, I, I've been wanting to, but I just don't know how... &quot;我有点尴尬，我确实不知道怎么做，以前一直是和直男在一起的我，对这一切都很陌生，对她也很陌生—— 我现在甚至不知道她下面到底是阴道还是阴茎。<br>
            &quot;So I will be your first queer sex. &quot;She smiled, &quot;Well I'm pretty honored to be your first one. &quot;<br> 
            她用手指轻轻地抚摸着我的脸颊：&quot;We can take it slow, and I will guide you. I just have one request. &quot;<br>
            &quot;Yeah...? &quot;<br>
            &quot;I've had a lot of people trying to have sex with me on the first or second date, and they kind of disappear. &quot;她看着我的眼睛，眼睑垂下一点， &quot;I hope this is not the last time, we are still going to seeing each other again. &quot;<br>
            我想都没有想就回答，我们肯定是会再见面的。当时的我其实并不理解为什么她会问这样的问题，但后来我会理解，在她的过去体验里一夜情和 short term relationship是家常便饭。<br>
            ">和女生在一起</button>
        <button type="button" class="link-button" data-option="This is my first time dating a Chinese" data-content="She eyes are like puppies that drops down, and ">Dating a Chinese</button>
    </div>

    </div>
    

    

        <script>
        (function(){
            const options = document.getElementById('options');
            const question = document.getElementById('first-time');
            const contentEl = document.getElementById('content');

            if (!options || !contentEl) return;

            function showContent(html){
                contentEl.innerHTML = html || '';
                // ensure class add happens after DOM update
                window.requestAnimationFrame(() => contentEl.classList.add('show'));
            }

            options.addEventListener('click', function(e) {
                const btn = e.target.closest('button');
                if (!btn) return;

                if (question) question.textContent = btn.dataset.option || '';

                const newHtml = btn.dataset.content || '';

                if (contentEl.classList.contains('show')){
                    // Run hide transition, then replace content and show again.
                    const onEnd = function(ev){
                        if (ev.propertyName !== 'opacity') return; // wait for opacity transition
                        contentEl.removeEventListener('transitionend', onEnd);
                        showContent(newHtml);
                    };

                    contentEl.addEventListener('transitionend', onEnd);
                    // trigger hide
                    contentEl.classList.remove('show');

                    // fallback if transitionend doesn't fire
                    setTimeout(() => {
                        if (!contentEl.classList.contains('show')){
                            contentEl.removeEventListener('transitionend', onEnd);
                            showContent(newHtml);
                        }
                    }, 700);
                } else {
                    // No current content visible — show immediately
                    showContent(newHtml);
                }
            });
        })();
        </script>

</body>
</html>
